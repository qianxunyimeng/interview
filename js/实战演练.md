1. 去除字符串中最后一个指定的字符

```js
// 正则
function delLast(str,target) {
  let reg =new RegExp(`${target}(?=([^${target}]*)$)`)
  return str.replace(reg,'')
}
```

```js
// 字符串截取
function removeLastOccurrence(str, target) {
  if (str.endsWith(target)) {
    return str.slice(0, -target.length);
  }
  return str;
}
```

2. 下划线命名转大驼峰命名
```js
/**
 * 下划线命名转大驼峰命名
    UnderScoreToCamel('sql_fun_input') ==> SqlFunInput
 *
 */
function UnderScoreToCamel (name) { 
  return name.replace(/(^|_)(\w)/g, (m, $1, $2) => {
    return $2.toUpperCase()
  });
}
```

3. 大写转小写，小写转大写

```js
function caseConvert(str){
    return str.replace(/([a-z]*)([A-Z]*)/g, (m, s1, s2)=>{
	    return `${s1.toUpperCase()}${s2.toLowerCase()}`
    })
}
// caseConvert('AsA33322A2aa') //aSa33322a2AA
```

4.  统计某一字符或字符串在另一个字符串中出现的次数

```js
function repeat(str,parentStr){
  return parentStr.split(str).length - 1
}
// repeat('sql','sql908jjksql') => 2

function count(str, param) {
  const reg = new RegExp(param, 'g');
  return str.match(reg).length;
}
// count('sql12390desql','sql')  => 2
```

5. js实现一个简单的字符串加密解密的方法
```js
// 加密
function strEncrypt(str) {
  var sault = 3;
  return str
    .split("")
    .map(c => {
      return String.fromCharCode(c.charCodeAt(0) + sault);
    })
    .join("");
}
// 解密
function strDecrypt(str) {
  var sault = 3;
  return str
    .split("")
    .map(c => {
      return String.fromCharCode(c.charCodeAt(0) - sault);
    })
    .join("");
}

var str = "hello, world";
console.log(strEncrypt(str)); // khoor/#zruog
console.log(strDecrypt(strEncrypt(str)));// hello, world

```
6. 写一个判断数据类型的方法
```js
function myType(v){
    return Object.prototype.toString.call(v).replace(/^.{8}(.+)]$/,(m,$1)=> $1.toLowerCase());
}
console.log(myType('123')) // string
console.log(myType(123)) // number
console.log(myType(true)) // boolean
console.log(myType([])) // array
console.log(myType(() => {})) // function
console.log(myType(new Date())) // date
console.log(myType(new RegExp())) // regexp
```

7. 写一个查询url参数的方法
```js
function urlParam(){
    const param = {};
    location.search.replace(/([^&=?]+)=([^&]+)/g,(m,$1,$2)=> param[$1] = $2);
    return param;
}

function getUrlParams (url) {
    const paramsRegex = /[?&]+([^=&]+)=([^&]*)/gi;
    const params = {};
    let match;
    while (match = paramsRegex.exec(url)) {
      params[match[1]] = match[2];
    }
    return params;
}
```

## 通用的函数柯里化工具函数

```js
// 创建一个可以多步执行的柯里化函数，当参数满足数量时就去执行它：
// 函数有一个length参数，表示形参数量，利用length判断当前记录参数数量是否到达或超过形参数量，超过则执行，否则继续返回curry化函数
// 函数公式：fn(x,y,z,w) ==> fn(x)(y)(z)(w);
let createCurry = (fn, ...params) => {
  let args = params || [];
  let fnLen = fn.length; // 指定柯里化函数的参数长度
  return (...res) => {
    // 通过作用域链获取上一次的所有参数
    let allArgs = args.slice(0);
    // 深度拷贝闭包共用的args参数，避免后续操作影响（引用类型）
    allArgs.push(...res);
    if (allArgs.length < fnLen) {
      // 当参数数量小于原函数的参数长度时，递归调用createCurry函数
      return createCurry.call(this, fn, ...allArgs);
    } else {
      // 当参数数量满足时，触发函数执行
      return fn.apply(this, allArgs);
    }
  }
}


// 多个参数的普通函数
function add (a, b, c, d) {
  return a + b + c + d;
}
// 测试柯里化函数
console.log(createCurry(add, 1)(2, 3)(4)); // 10
console.log(createCurry(add, 1)(2)(3)(4)); // 10

```